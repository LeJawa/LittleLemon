<article>
  <form id="user-booking-create" action="{% url 'user_booking-list' %}" method="post">
    {% csrf_token %}
    <div class="form-header">
      <p class="description">Create new reservations via POST requests to <br/><code>{% url 'user_booking-list' %}</code></p>
    </div>
    <div class="form-body">
      <div class="input">
        <input type="text" class="form-control" id="booking-title" name="title" placeholder="Title" maxlength="50">
        <input type="number" class="form-control" id="booking-no_of_guests" name="no_of_guests"placeholder="Number of guests" required="" step="1" min="1" max="20">
        <input type="date" class="form-control" id="booking-date" name="booking_date" placeholder="Date" required="" step="1" min="0" max="999">
    </div>
      <div class="button">
        <button type="button" class="endpoint" id="random-booking-button" onclick="updateRandomBooking()">Randomize</button>
        <button type="submit" class="endpoint" id="create-booking-button">Create</button>
      </div>
    </div>
  </form>
</article>

<script>
  function updateRandomBooking(){
    const listOfNames = ['Date night', 'Family', 'Birthday', 'Anniversary', 'Celebration', 'Business', 'Wedding', 'Bachelor party', 'Bachelorette party', 'Baby shower', 'Reunion', 'Graduation', 'Other'];
    const listOfGuests = [1,2,2,2,2,2,3,3,4,4,4,4,4,5,6,7,8,9,10];

    const randomTitle = listOfNames[Math.floor(Math.random() * listOfNames.length)];
    const randomNumberGuests = listOfGuests[Math.floor(Math.random() * listOfGuests.length)];
    
    // Generated by Copilot, inspired by https://stackoverflow.com/questions/9035627/elegant-method-to-generate-array-of-random-dates-within-two-dates
    const minDate = new Date(); // Set the minimum date to today
    const maxDate = new Date(minDate.getTime() + (30 * 24 * 60 * 60 * 1000)); // Set the maximum date to 30 days from today
    const randomDate = new Date(minDate.getTime() + Math.random() * (maxDate.getTime() - minDate.getTime())); // Generate a random date between the minimum and maximum dates
    const formattedDate = randomDate.toISOString().slice(0, 10); // Convert the date to a string in the format required by the booking-date element
    
    document.getElementById("booking-title").value = randomTitle;
    document.getElementById("booking-no_of_guests").value = randomNumberGuests;
    document.getElementById("booking-date").value = formattedDate;
  }
</script>

<article>
  <form id="user-booking-list" action="{% url 'user_booking-list' %}" method="get">
    {% csrf_token %}
    <div class="form-header">
      <p class="description">List all the user's reservations via GET requests to <br/><code>{% url 'user_booking-list' %}</code></p>
    </div>
    <div class="form-body">
      <div class="button">
        <button type="submit" class="endpoint">GO</button>
      </div>
    </div>
  </form>
</article>

<article>
  <form id="user-booking-delete" action="{% url 'user_booking-detail' 1 %}" method="delete">
    {% csrf_token %}
    <div class="form-header">
      <p class="description">Remove particular reservations via DELETE requests to <br/><code>{% url 'user_booking-list' %}&lt;pk&gt;</code></p>
    </div>
    <div class="form-body">
      <div class="input">
        <input type="number" class="form-control" id="delete-user-booking-id" name="id" placeholder="Reservation ID" required="" step="1">
      </div>
      <div class="button">
        <button type="submit" class="endpoint">GO</button>
      </div>
    </div>
  </form>
</article>



